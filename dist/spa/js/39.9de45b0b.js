(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[39],{"2b75":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h5 text-bold"},[t._v("របាយការណ៍ចំណាយផ្សេងៗ")]),a("q-space"),a("div",{staticClass:"q-pb-lg q-pr-md"},[a("q-btn-dropdown",{attrs:{push:"",split:"",color:"cyan","no-caps":""},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"row items-center no-wrap"},[a("q-icon",{attrs:{left:"",name:"event",size:"lg"}}),a("div",{staticClass:"text-center"},[t._v("\n                ជ្រើសរើស"),a("br"),t._v("កាលបរិច្ឆេទ\n              ")])],1)]},proxy:!0}])},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick(1)}}},[a("q-item-section",[a("q-item-label",[t._v("Yesterday")]),a("q-item-label",{attrs:{caption:""}},[t._v("ជ្រើសរើសម្សិលមិញ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"info",color:"amber"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick(2)}}},[a("q-item-section",[a("q-item-label",[t._v("Last week")]),a("q-item-label",{attrs:{caption:""}},[t._v("ជ្រើសរើស៧ថ្ងៃមុន")])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"info",color:"amber"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick(3)}}},[a("q-item-section",[a("q-item-label",[t._v("Last month")]),a("q-item-label",{attrs:{caption:""}},[t._v("ជ្រើសរើសខែមុន")])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"info",color:"amber"}})],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick(4)}}},[a("q-item-section",[a("q-item-label",[t._v("Last year")]),a("q-item-label",{attrs:{caption:""}},[t._v("ជ្រើសរើសឆ្នាំមុន")])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"info",color:"amber"}})],1)],1)],1)],1)],1),a("div",{staticClass:"row q-gutter-x-sm"},[a("q-input",{staticClass:"col",attrs:{label:"ថ្ងៃទិញចូល",outlined:"",square:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxyStart",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{on:{input:function(e){return t.getStartDate()}},model:{value:t.data.start_date,callback:function(e){t.$set(t.data,"start_date",e)},expression:"data.start_date"}})],1)],1)]},proxy:!0}]),model:{value:t.data.start_date,callback:function(e){t.$set(t.data,"start_date",e)},expression:"data.start_date"}}),a("q-input",{staticClass:"col",attrs:{label:"ថ្ងៃលក់ចេញ",outlined:"",square:"",mask:"date",rules:["date"]},on:{change:function(e){return t.getEndDate()}},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxyEnd",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{on:{input:function(e){return t.getEndDate()}},model:{value:t.data.end_date,callback:function(e){t.$set(t.data,"end_date",e)},expression:"data.end_date"}})],1)],1)]},proxy:!0}]),model:{value:t.data.end_date,callback:function(e){t.$set(t.data,"end_date",e)},expression:"data.end_date"}})],1)],1),a("q-card-section",[a("div",{staticClass:"row q-gutter-x-sm"},[a("q-card",{staticClass:"col-4 my-card text-white",staticStyle:{cursor:"pointer",background:"radial-gradient(circle, #F15451 0%, #505353 100%)"},on:{click:function(e){t.tab="empty-stock"}}},[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-h3 text-bold"},[t._v(t._s(t.getTotalExpense.toFixed(2))),a("span",{staticClass:"text-h6"},[t._v("ដុល្លា")])]),a("div",{staticClass:"text-subtitle2"},[t._v("ប្រាក់ចំណូលផ្សេងៗ")])]),a("q-card-actions",[a("q-btn",{attrs:{size:"20px",icon:"filter_list",flat:"",round:""},on:{click:function(e){t.tab="empty-stock"}}})],1)],1)])],1)],1)]),a("q-card-section",[a("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.getExpenseByDate,columns:t.column_staff_salary,"row-key":"_id",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-h6"},[t._v(t._s(e.pageIndex+1))])]),a("q-td",{key:"expense",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-h6 text-bold"},[t._v("$"+t._s(parseFloat(e.row.expense).toFixed(2)))])]),a("q-td",{key:"salary",staticClass:"q-gutter-x-xs text-primary",attrs:{props:e}},[a("span",{staticClass:"text-h6 text-bold"},[t._v("$"+t._s(e.row.salary))])]),a("q-td",{key:"description",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-input",{staticClass:"col",attrs:{readonly:"",type:"textarea",rows:"1",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:e.row.description,callback:function(a){t.$set(e.row,"description",a)},expression:"props.row.description"}})],1),a("q-td",{key:"expense_type",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(e.row.expense_type))])]),a("q-td",{key:"expense_date",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(t.formatDateToString(e.row.expense_date)))])])],1)]}}])})],1)],1)],1)},n=[],r=a("52b5"),i=a.n(r),o=(a("c1c3"),a("549c")),c=a.n(o),l=a("eb34"),d={name:"ExpenseReport",data:function(){return{filter:"",pagination:{rowsPerPage:0},column_staff_salary:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"expense",label:"ចំណាយ",field:"expense",sortable:!0},{align:"left",name:"description",label:"ចំណាំ",field:"description",sortable:!0},{align:"left",name:"expense_type",label:"ប្រភេទ",field:"expense_type",sortable:!0},{align:"left",name:"expense_date",label:"ថ្ងៃទី",field:"expense_date",sortable:!0}],data:{start_date:this.formatDate(l["b"].subtractFromDate(new Date,{month:1})),end_date:this.formatDate(new Date)}}},computed:{getExpenseByDate:function(){return this.$store.getters["expense/getExpenseByDate"]},getTotalExpense:function(){var t=0;return this.getExpenseByDate.map((function(e){t+=parseFloat(e.expense)})),t}},created:function(){this.$q.loading.show(),this.$store.dispatch("expense/fetchExpenseByDate",this.data),this.$q.loading.hide()},methods:{formatDate:function(t){return l["b"].formatDate(t,"YYYY-MM-DD")},formatDateToString:function(t){return l["b"].formatDate(t,"DD-MMM-YYYY")},onItemClick:function(t){1===t?this.data.start_date=this.formatDate(l["b"].subtractFromDate(new Date,{days:1})):2===t?this.data.start_date=this.formatDate(l["b"].subtractFromDate(new Date,{days:7})):3===t?this.data.start_date=this.formatDate(l["b"].subtractFromDate(new Date,{month:1})):4===t&&(this.data.start_date=this.formatDate(l["b"].subtractFromDate(new Date,{year:1}))),this.getStartDate()},getStartDate:function(){var t=this;return c()(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$q.loading.show(),t.$refs.qDateProxyStart.hide(),e.next=4,t.$store.dispatch("expense/fetchExpenseByDate",t.data);case 4:t.$q.loading.hide();case 5:case"end":return e.stop()}}),e)})))()},getEndDate:function(){var t=this;return c()(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$q.loading.show(),t.$refs.qDateProxyEnd.hide(),e.next=4,t.$store.dispatch("expense/fetchExpenseByDate",t.data);case 4:t.$q.loading.hide();case 5:case"end":return e.stop()}}),e)})))()}}},p=d,u=a("a6c2"),m=a("63c1"),f=a.n(m),x=a("505d"),q=a("5ce7"),b=a("7006"),_=a("dc01"),h=a("edd5"),v=a("19dc"),y=a("692f"),g=a("e0e9"),w=a("6c44"),k=a("dc7c"),D=a("a3be"),C=a("5142"),$=a("7213"),Q=a("84df"),S=a("ef9c"),E=a("3846"),I=a("3bc2"),F=a("7b08"),P=a("f6b1"),B=Object(u["a"])(p,s,n,!1,null,"46d16b70",null);e["default"]=B.exports;f()(B,"components",{QPage:x["a"],QCard:q["a"],QCardSection:b["a"],QSpace:_["a"],QBtnDropdown:h["a"],QIcon:v["a"],QList:y["a"],QItem:g["a"],QItemSection:w["a"],QItemLabel:k["a"],QInput:D["a"],QPopupProxy:C["a"],QDate:$["a"],QCardActions:Q["a"],QBtn:S["a"],QTable:E["a"],QTr:I["a"],QTd:F["a"]}),f()(B,"directives",{ClosePopup:P["a"]})}}]);