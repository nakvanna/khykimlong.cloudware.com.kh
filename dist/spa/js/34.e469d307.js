(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{1839:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-y-md"},[a("q-option-group",{attrs:{inline:"",options:[{label:"ពិនិត្យអម",value:"reg_check"},{label:"ការលក់",value:"sales"},{label:"ពិនិត្យអេកូ",value:"echo"},{label:"ពិនិត្យឡាបូ",value:"labo"},{label:"សម្រាកព្យាបាល",value:"stay"}]},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}}),a("q-tab-panels",{staticClass:"shadow-2 rounded-borders",attrs:{animated:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},[a("q-tab-panel",{attrs:{name:"reg_check"}},[a("div",{staticClass:"text-h6"},[t._v("ពិនិត្យអម")]),a("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.data_reg_check,columns:t.columns_reg_check,"row-key":"_id",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-uppercase"},[t._v(t._s(e.rowIndex+1))])]),a("q-td",{key:"note",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-uppercase"},[t._v(t._s(e.row.note))])]),a("q-td",{key:"diagnosis",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(e.row.diagnosis))])]),a("q-td",{key:"ta",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(e.row.ta))])]),a("q-td",{key:"t",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(e.row.t))])]),a("q-td",{key:"spo",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(e.row.spo))])]),a("q-td",{key:"poules",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(e.row.poules))])]),a("q-td",{key:"date",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(t.dateFormat(e.row.date)))])])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"sales"}},[a("div",{staticClass:"text-h6"},[t._v("ប្រវត្តិនៃការលក់")]),a("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.getSalesReceive,columns:t.columns_receive,"row-key":"_id",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(a){return t.$router.push({path:"/sale/"+e.row._id+"/view"})}}},[a("q-td",{key:"no",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",[t._v(t._s(e.rowIndex+1))])]),a("q-td",{key:"patient_name",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-uppercase"},[t._v(t._s(e.row.patient.kh_name))])]),a("q-td",{key:"amount",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-primary"},[t._v("$"+t._s(e.row.amount))])]),a("q-td",{key:"paid_amount",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-warning"},[t._v("$"+t._s(e.row.paid_amount))])]),a("q-td",{key:"due_amount",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-negative"},[t._v("$"+t._s(e.row.due_amount))])]),a("q-td",{key:"sale_date",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(t.dateFormat(e.row.sale_date)))])])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"echo"}},[a("div",{staticClass:"text-h6"},[t._v("ពិនិត្យអេកូ")]),a("q-table",{staticClass:"table-virtual-scroll",attrs:{data:t.getEchoNote,columns:t.columns_echo,"row-key":"name",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-btn",{attrs:{flat:"",icon:"more_vert",dense:"",color:"grey",size:"12px"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[a("q-item",{attrs:{clickable:"",to:"/echo-note/"+e.row._id+"/edit"}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"edit",size:"15px"}})],1),a("q-item-section",[t._v("\n                            Edit\n                          ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-separator")],1)],1)],1)],1),a("q-td",{key:"photo",attrs:{props:e}},[a("q-avatar",{staticClass:"shadow-1",attrs:{size:"100px"}},[a("q-img",{attrs:{src:t.hostname+e.row.patient.photo}})],1)],1),a("q-td",{key:"kh_name",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.patient.kh_name)+"\n                ")]),a("q-td",{key:"title",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.title)+"\n                ")]),a("q-td",{key:"doctor",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.doctor)+"\n                ")]),a("q-td",{key:"createdAt",attrs:{props:e}},[t._v("\n                  "+t._s(t.dateFormat(e.row.check_date))+"\n                ")])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"labo"}},[a("div",{staticClass:"text-h6"},[t._v("ពិនិត្យឡាបូ")]),a("q-table",{staticClass:"table-virtual-scroll",attrs:{data:t.getLabos,columns:t.columns_labo,"row-key":"name",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-btn",{attrs:{flat:"",icon:"more_vert",dense:"",color:"grey",size:"12px"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.cashierLabo(e.row.patient._id)}}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"money",size:"15px"}})],1),a("q-item-section",[t._v("\n                            គិតលុយ\n                          ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-item",{attrs:{clickable:"",to:"/labo/"+e.row._id+"/edit"}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"fas fa-edit",size:"15px"}})],1),a("q-item-section",[t._v("\n                            បង្ហាញ & កែប្រែ\n                          ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-separator"),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.printLabo(e.row._id)}}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"print",size:"15px"}})],1),a("q-item-section",[t._v("\n                            បោះពុម្ព\n                          ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-separator"),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.downloadLabo(e.row._id)}}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"print",size:"15px"}})],1),a("q-item-section",[t._v("\n                            ទាញយកជា file docx\n                          ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1)],1)],1)],1)],1),a("q-td",{key:"photo",attrs:{props:e}},[a("q-avatar",{staticClass:"shadow-1",attrs:{size:"100px"}},[a("q-img",{attrs:{src:t.hostname+e.row.patient.photo}})],1)],1),a("q-td",{key:"kh_name",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.patient.kh_name)+"\n                ")]),a("q-td",{key:"title",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.title)+"\n                ")]),a("q-td",{key:"doctor",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.doctor)+"\n                ")]),a("q-td",{key:"pay_status",attrs:{props:e}},[e.row.pay_status?a("span",[t._v("បានគិតលុយ")]):a("span",[t._v("មិនទាន់គិតលុយ")])]),a("q-td",{key:"createdAt",attrs:{props:e}},[t._v("\n                  "+t._s(t.dateFormat(e.row.createdAt))+"\n                ")])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"stay"}},[a("div",{staticClass:"text-h6"},[t._v("ប្រវត្តិនៃការសម្រាកព្យាបាល")]),a("q-table",{staticClass:"table-virtual-scroll",attrs:{data:t.getExamines,columns:t.columns_stay,"row-key":"name",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-btn",{attrs:{flat:"",icon:"more_vert",dense:"",color:"grey",size:"12px"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[a("q-item",{attrs:{clickable:"",to:"/examination/"+e.row._id}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"edit",size:"15px"}})],1),a("q-item-section",[t._v("\n                            បន្ថែមថ្នាំព្យាបាល\n                          ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-separator"),a("q-item",{attrs:{clickable:"",disable:"",to:"/labo/"+e.row._id+"/edit"}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"edit",size:"15px"}})],1),a("q-item-section",[t._v("\n                            Edit\n                          ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-separator"),a("q-item",{attrs:{clickable:"",disable:""},on:{click:function(a){return t.printLabo(e.row._id)}}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"print",size:"15px"}})],1),a("q-item-section",[t._v("CV")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1)],1)],1)],1)],1),a("q-td",{key:"kh_name",staticClass:"q-gutter-x-xs",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.patient.kh_name)+"\n                ")]),a("q-td",{key:"room",staticClass:"q-gutter-x-xs",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.room)+"\n                ")]),a("q-td",{key:"is_stay",staticClass:"q-gutter-x-xs",attrs:{props:e}},[e.row.is_stay?a("span",[t._v(" កំពុងស្នាក់នៅ")]):a("span",[t._v(" ចេញហើយ")])]),a("q-td",{key:"reason",staticClass:"q-gutter-x-xs",attrs:{props:e}},[t._v("\n                  "+t._s(e.row.reason)+"\n                ")]),a("q-td",{key:"exa_date",staticClass:"q-gutter-x-xs",attrs:{props:e}},[t._v("\n                  "+t._s(t.dateFormat(e.row.exa_date))+"\n                ")])],1)]}}])})],1)],1)],1)])])},r=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("7f7f"),a("c47a")),i=a.n(n),o=a("bd4c");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={name:"PatientHistory",data:function(){return{panel:"reg_check",filter:"",pagination:{rowsPerPage:0},hostname:"http://localhost:3000/",columns_receive:[{align:"left",name:"no",label:"ល.រ",field:"no",sortable:!0},{align:"left",name:"patient_name",label:"អ្នកជម្ងឺ",field:"patient_name",sortable:!0},{align:"left",name:"amount",label:"សរុប",field:"amount",sortable:!0},{align:"left",name:"paid_amount",label:"ថ្លៃចំណាយ",field:"paid_amount",sortable:!0},{align:"left",name:"due_amount",label:"ថ្លៃជំពាក់",field:"due_amount",sortable:!0},{align:"left",name:"sale_date",label:"ថ្ងៃលក់ចេញ",field:"sale_date",sortable:!0}],columns_stay:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"kh_name",label:"អ្នកជំងឺ",field:"kh_name",sortable:!0},{align:"left",name:"room",label:"ស្នាក់នៅ",field:"room",sortable:!0},{align:"left",name:"is_stay",label:"ស្ថានភាព",field:"is_stay",sortable:!0},{align:"left",name:"reason",label:"មូលហេតុសម្រាក",field:"reason",sortable:!0},{align:"left",name:"exa_date",label:"ថ្ងៃចូលសម្រាក",field:"exa_date",sortable:!0}],columns_echo:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"photo",field:"photo"},{align:"left",name:"kh_name",label:"អ្នកជម្ងឺ",field:"kh_name",sortable:!0},{align:"left",name:"title",label:"ចំណងជើង",field:"title",sortable:!0},{align:"left",name:"doctor",label:"ពិនិត្យដោយ",field:"doctor",sortable:!0},{align:"left",name:"createdAt",label:"កាលបរិច្ឆេទ",field:"createdAt"}],columns_labo:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"photo",field:"photo"},{align:"left",name:"kh_name",label:"អ្នកជម្ងឺ",field:"kh_name",sortable:!0},{align:"left",name:"title",label:"ចំណងជើង",field:"title",sortable:!0},{align:"left",name:"doctor",label:"ពិនិត្យដោយ",field:"doctor",sortable:!0},{align:"left",name:"pay_status",label:"គិតលុយ",field:"pay_status",sortable:!0},{align:"left",name:"createdAt",label:"កាលបរិច្ឆេទ",field:"createdAt"}],columns_reg_check:[{align:"left",name:"_id",label:"ល.រ",field:"_id"},{align:"left",name:"note",label:"ចំណាំ",field:"note"},{align:"left",name:"diagnosis",label:"រោគវិនិច្ឆ័យ",field:"diagnosis"},{align:"left",name:"ta",label:"TA",field:"ta"},{align:"left",name:"t",label:"T0",field:"t"},{align:"left",name:"spo",label:"Spo2",field:"spo"},{align:"left",name:"poules",label:"Poules",field:"poules"},{align:"left",name:"date",label:"ថ្ងៃទី",field:"date"}],data_reg_check:[]}},computed:{getLabos:function(){var t=this;return this.$store.getters["labo/getLabos"].filter((function(e){return e.patient._id===t.$route.params.id}))},getEchoNote:function(){var t=this;return this.$store.getters["echo_note/getEchoNotes"].filter((function(e){return e.patient._id===t.$route.params.id}))},getSalesReceive:function(){var t=this;return t.$store.getters["sale/getSales"].filter((function(e){return"Receive"===e.sale_status&&e.patient._id===t.$route.params.id}))},getExamines:function(){var t=this,e=t.$store.getters["examine/getExamines"].map((function(t){return c(c({},t),{},{room:t.room.name})}));return e.filter((function(e){return e.patient._id===t.$route.params.id}))}},created:function(){var t=this;t.$store.dispatch("patient/fetchPatientDetail",t.$route.params.id).then((function(e){t.data_reg_check=[],t.data_reg_check=e.data}))},methods:{dateFormat:function(t){return o["b"].formatDate(t,"DD/MM/YYYY")}}},d=p,u=a("2877"),m=a("eebe"),_=a.n(m),f=a("9989"),b=a("9f0a"),q=a("adad"),g=a("823b"),x=a("eaac"),k=a("27f9"),y=a("0016"),h=a("bd08"),v=a("db86"),w=a("9c40"),C=a("4e73"),z=a("1c1c"),S=a("66e5"),O=a("4074"),Q=a("eb85"),P=a("cb32"),$=a("068f"),j=Object(u["a"])(d,s,r,!1,null,"63d92bab",null);e["default"]=j.exports;_()(j,"components",{QPage:f["a"],QOptionGroup:b["a"],QTabPanels:q["a"],QTabPanel:g["a"],QTable:x["a"],QInput:k["a"],QIcon:y["a"],QTr:h["a"],QTd:v["a"],QBtn:w["a"],QMenu:C["a"],QList:z["a"],QItem:S["a"],QItemSection:O["a"],QSeparator:Q["a"],QAvatar:P["a"],QImg:$["a"]})}}]);