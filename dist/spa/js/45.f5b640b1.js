(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[45],{ba1c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h5 text-bold"},[t._v("របាយការណ៍ចំនួនក្នុងស្តុក")]),a("q-space"),a("q-btn",{attrs:{size:"20px",icon:"fas fa-warehouse",flat:"",round:""}})],1),a("q-card-section",[a("div",{staticClass:"row q-gutter-x-sm"},[a("q-card",{staticClass:"col my-card text-white",staticStyle:{cursor:"pointer",background:"radial-gradient(circle, #1C9C64 0%, #505353 100%)"},on:{click:function(e){t.tab="total-stock"}}},[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-h3 text-bold"},[t._v(t._s(t.getTotalStock.length)+" "),a("span",{staticClass:"text-h6"},[t._v("មុខ")])]),a("div",{staticClass:"text-subtitle2"},[t._v("ទំនិញមិនទាន់អស់")])]),a("q-card-actions",[a("q-btn",{attrs:{size:"20px",icon:"filter_list",flat:"",round:""},on:{click:function(e){t.tab="total-stock"}}})],1)],1)])],1),a("q-card",{staticClass:"col my-card text-white",staticStyle:{cursor:"pointer",background:"radial-gradient(circle, #E5CA44 0%, #505353 100%)"},on:{click:function(e){t.tab="little-stock"}}},[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-h3 text-bold"},[t._v(t._s(t.getLittleStock.length)+" "),a("span",{staticClass:"text-h6"},[t._v("មុខ")])]),a("div",{staticClass:"text-subtitle2"},[t._v("ទំនិញជិតដាច់ស្តុក")])]),a("q-card-actions",[a("q-btn",{attrs:{size:"20px",icon:"filter_list",flat:"",round:""},on:{click:function(e){t.tab="empty-stock"}}})],1)],1)])],1),a("q-card",{staticClass:"col my-card text-white",staticStyle:{cursor:"pointer",background:"radial-gradient(circle, #F15451 0%, #505353 100%)"},on:{click:function(e){t.tab="empty-stock"}}},[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-h3 text-bold"},[t._v(t._s(t.getEmptyStock.length)+" "),a("span",{staticClass:"text-h6"},[t._v("មុខ")])]),a("div",{staticClass:"text-subtitle2"},[t._v("ទំនិញដាច់ស្តុក")])]),a("q-card-actions",[a("q-btn",{attrs:{size:"20px",icon:"filter_list",flat:"",round:""},on:{click:function(e){t.tab="empty-stock"}}})],1)],1)])],1)],1)]),a("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"total-stock"}},[a("div",{staticClass:"row q-pb-sm"},[a("div",{staticClass:"text-h6 text-primary"},[t._v("ទំនិញនៅទាន់អស់")]),a("q-space"),a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),a("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.getTotalStock,columns:t.column_total_stock,"row-key":"pro_name",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"no"},[a("span",{staticStyle:{"font-size":"small"}},[t._v("\n              "+t._s(e.pageIndex+1)+"\n            ")])]),a("q-td",{key:"pro_name"},[a("span",{staticClass:"text-bold",staticStyle:{"font-size":"small"}},[t._v("\n              "+t._s(e.row.pro_name)+"\n            ")])]),a("q-td",{key:"pro_description",attrs:{props:e}},[a("q-input",{staticClass:"col",attrs:{readonly:"",type:"textarea",rows:"1",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:e.row.pro_description,callback:function(a){t.$set(e.row,"pro_description",a)},expression:"props.row.pro_description"}})],1),a("q-td",{key:"stock_qty"},[a("span",{staticClass:"text-bold text-primary",staticStyle:{"font-size":"medium"}},[t._v(t._s(e.row.stock_qty))])]),a("q-td",{key:"invent_type"},[a("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(e.row.invent_type))])]),a("q-td",{key:"unit"},[a("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(e.row.unit))])])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"little-stock"}},[a("div",{staticClass:"row q-pb-sm"},[a("div",{staticClass:"text-h6 text-warning"},[t._v("ទំនិញជិតដាច់ស្តុក")]),a("q-space"),a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),a("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.getLittleStock,columns:t.column_little_stock,"row-key":"pro_name",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"no"},[a("span",{staticStyle:{"font-size":"small"}},[t._v("\n              "+t._s(e.pageIndex+1)+"\n            ")])]),a("q-td",{key:"pro_name"},[a("span",{staticClass:"text-bold",staticStyle:{"font-size":"small"}},[t._v("\n              "+t._s(e.row.pro_name)+"\n            ")])]),a("q-td",{key:"pro_description",attrs:{props:e}},[a("q-input",{staticClass:"col",attrs:{readonly:"",type:"textarea",rows:"1",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:e.row.pro_description,callback:function(a){t.$set(e.row,"pro_description",a)},expression:"props.row.pro_description"}})],1),a("q-td",{key:"stock_qty"},[a("span",{staticClass:"text-bold text-warning",staticStyle:{"font-size":"medium"}},[t._v(t._s(e.row.stock_qty))])]),a("q-td",{key:"invent_type"},[a("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(e.row.invent_type))])]),a("q-td",{key:"unit"},[a("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(e.row.unit))])])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"empty-stock"}},[a("div",{staticClass:"row q-pb-sm"},[a("div",{staticClass:"text-h6 text-negative"},[t._v("ទំនិញដាច់ស្តុក")]),a("q-space"),a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),a("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.getEmptyStock,columns:t.column_empty_stock,"row-key":"pro_name",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"no"},[a("span",{staticStyle:{"font-size":"small"}},[t._v("\n              "+t._s(e.pageIndex+1)+"\n            ")])]),a("q-td",{key:"pro_name"},[a("span",{staticClass:"text-bold",staticStyle:{"font-size":"small"}},[t._v("\n              "+t._s(e.row.pro_name)+"\n            ")])]),a("q-td",{key:"pro_description",attrs:{props:e}},[a("q-input",{staticClass:"col",attrs:{readonly:"",type:"textarea",rows:"1",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:e.row.pro_description,callback:function(a){t.$set(e.row,"pro_description",a)},expression:"props.row.pro_description"}})],1),a("q-td",{key:"stock_qty"},[a("span",{staticClass:"text-bold text-negative",staticStyle:{"font-size":"medium"}},[t._v(t._s(e.row.stock_qty))])]),a("q-td",{key:"invent_type"},[a("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(e.row.invent_type))])]),a("q-td",{key:"unit"},[a("span",{staticStyle:{"font-size":"small"}},[t._v(t._s(e.row.unit))])])],1)]}}])})],1)],1)],1)],1)},n=[],o=a("52b5"),i=a.n(o),l=(a("c1c3"),a("549c")),r=a.n(l),c=(a("1a43"),a("d946"),{name:"StockReport",data:function(){return{tab:"total-stock",filter:"",pagination:{rowsPerPage:0},column_total_stock:[{align:"left",name:"no",label:"ល.រ",field:"no"},{align:"left",name:"pro_name",label:"ទំនិញ",field:"pro_name",sortable:!0},{align:"left",name:"pro_description",label:"ចំណាំ",field:"pro_description"},{align:"left",name:"stock_qty",label:"ចំនួននៅសល់",field:"stock_qty"},{align:"left",name:"invent_type",label:"ប្រភេទស្តុក",field:"invent_type"},{align:"left",name:"unit",label:"ឯកតា",field:"unit"}],column_little_stock:[{align:"left",name:"no",label:"ល.រ",field:"no"},{align:"left",name:"pro_name",label:"ទំនិញ",field:"pro_name",sortable:!0},{align:"left",name:"pro_description",label:"ចំណាំ",field:"pro_description"},{align:"left",name:"stock_qty",label:"ចំនួននៅសល់",field:"stock_qty"},{align:"left",name:"invent_type",label:"ប្រភេទស្តុក",field:"invent_type"},{align:"left",name:"unit",label:"ឯកតា",field:"unit"}],column_empty_stock:[{align:"left",name:"no",label:"ល.រ",field:"no"},{align:"left",name:"pro_name",label:"ទំនិញ",field:"pro_name",sortable:!0},{align:"left",name:"pro_description",label:"ចំណាំ",field:"pro_description"},{align:"left",name:"stock_qty",label:"ចំនួននៅសល់",field:"stock_qty"},{align:"left",name:"invent_type",label:"ប្រភេទស្តុក",field:"invent_type"},{align:"left",name:"unit",label:"ឯកតា",field:"unit"}],data_total_stock:[],data_empty_stock:[]}},computed:{getDefaultStock:function(){var t=[],e=this.$store.getters["stock/getStockDetailForReport"].filter((function(t){return"Receive"===t.purchase_status}));return e.map((function(e){var a=t.findIndex((function(t){return t.pro_name===e.product.name}));-1===a?t.push({pro_name:e.product.name,pro_description:e.product.description,invent_type:e.invent_type,pro_type:e.product.type,pro_alert:e.product.stock_alert,stock_qty:e.stock_qty,unit:e.product.unit}):t[a].stock_qty+=e.stock_qty})),t},getTotalStock:function(){return this.getDefaultStock.filter((function(t){return t.stock_qty>0}))},getEmptyStock:function(){return this.getDefaultStock.filter((function(t){return 0===t.stock_qty}))},getLittleStock:function(){return this.getDefaultStock.filter((function(t){return t.stock_qty>0&&t.stock_qty<=t.pro_alert}))}},created:function(){var t=this;return r()(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$q.loading.show(),e.next=3,t.$store.dispatch("stock/fetchStockDetailForReport");case 3:t.$q.loading.hide();case 4:case"end":return e.stop()}}),e)})))()}}),p=c,d=a("a6c2"),u=a("63c1"),_=a.n(u),f=a("505d"),y=a("5ce7"),k=a("7006"),m=a("dc01"),b=a("ef9c"),q=a("84df"),v=a("eb48"),g=a("9efb"),x=a("a3be"),w=a("19dc"),C=a("3846"),S=a("3bc2"),h=a("7b08"),z=Object(d["a"])(p,s,n,!1,null,"c7275768",null);e["default"]=z.exports;_()(z,"components",{QPage:f["a"],QCard:y["a"],QCardSection:k["a"],QSpace:m["a"],QBtn:b["a"],QCardActions:q["a"],QTabPanels:v["a"],QTabPanel:g["a"],QInput:x["a"],QIcon:w["a"],QTable:C["a"],QTr:S["a"],QTd:h["a"]})}}]);